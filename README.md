# 자바로 배우는 리팩토링 입문 정리
## 리팩토링이란
1. 리팩토링이란
- 리팩토링 정의
  - 리팩토링은 외부에서 보는 프로그램 동작은 변화되지 않아야하고 프로그램의 내부가 개선된다.
- 리팩토링과 유닛 테스트
  - 동작이 변하지 않은 걸 확인하려고 테스트를 한다. 
  - 테스트는 다양하지만 적어도 유닛 테스트는 필요하다. 
- 리팩토링의 목적
  - 버그를 발견하기 쉽게 만든다.
  - 기능을 추가하기 쉽게 만든다.
  - 리뷰하기 쉽게 만든다. 
- 리팩토링의 한계
  - 프로그램이 아직 동작하지 않을 때
    - 아직 동작하지 않은 프로그램은 리팩토링이 불가하다. 
    - 버그 투성이인 프로그램도 리팩토링이 불가하다.
  - 시간이 너무 촉박할 때
    - 납 품 직전 대규모 리팩토링하는 것도 하지 말아야 한다.

2. 리팩토링과 악취
- 악취란
  - 프로그램에서 리팩토링이 필요한 부분을 '악취'가 난다고 표현한다.
  - 악취란 다음 부분이다.
    - 이해하기 어려운 부분
    - 수정하기 어려운 부분
    - 확장하기 어려운 부분
    
3. 리팩토링 카탈로그
- 리팩토링 카탈로그란
  - 리팩토링 목적과 절차를 카탈로그 형식으로 정리한 것이다.
- 체계적 수정
  - 리팩토링할 때는 생각이 떠올랐다고 해서 바로 수정하지 않는다.
  - 카탈로그에 따라 체계적으로 코드를 변경해야 한다. 
  
4. 리팩토링 에센스
- 스텝 바이 스텝: 두 가지 수정을 한꺼번에 하지 않기
  - A와 B작업을 한다면 두 종류 작업을 섞어서 진행하면 안된다. 
- 스텝 바이 스텝: 되돌리기 쉽게 하기
  - 리팩토링했지만 문제가 생겨 수정을 되돌려야 할지 모른다.
  - 스텝바이스텝으로 했다면 되돌리기 쉽다. 
- 스텝 바이 스텝: 단계마다 확인
  - 컴파일 먼저 해보고 다음 테스트를 진행해 본다. 
- 스텝 바이 스텝: 오래된 걸 새로운 걸로 바꿈
  - 동작하는 상태를 유지하면서 새로운 코드를 추가해서 오래된 것이 모두 새로워지면 오래된 것을 제거하는 절차를 택한다. 
